# Generated by Django 4.2.19 on 2025-09-27 12:03

from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion
import uuid


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Product',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ozon_product_id', models.CharField(max_length=50, unique=True)),
                ('name', models.CharField(max_length=255)),
                ('sku', models.BigIntegerField(blank=True, null=True, verbose_name='SKU из Ozon')),
                ('price', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('offer_id', models.CharField(max_length=100)),
                ('barcode', models.CharField(blank=True, max_length=50, null=True)),
                ('height', models.DecimalField(decimal_places=2, max_digits=10)),
                ('depth', models.DecimalField(decimal_places=2, max_digits=10)),
                ('width', models.DecimalField(decimal_places=2, max_digits=10)),
                ('weight', models.DecimalField(decimal_places=2, max_digits=10)),
                ('weight_unit', models.CharField(max_length=10)),
                ('dimension_unit', models.CharField(max_length=10)),
                ('image_url', models.URLField(max_length=255)),
                ('model', models.CharField(blank=True, max_length=100, null=True)),
                ('product_zone', models.CharField(blank=True, max_length=50, null=True)),
                ('europallet', models.IntegerField(blank=True, null=True)),
                ('box_type', models.CharField(blank=True, max_length=5, null=True)),
                ('box_xl', models.IntegerField(blank=True, null=True)),
                ('box_l', models.IntegerField(blank=True, null=True)),
                ('box_m', models.IntegerField(blank=True, null=True)),
                ('box_s', models.IntegerField(blank=True, null=True)),
                ('fit_from', models.DateTimeField(blank=True, null=True)),
                ('fit_to', models.DateTimeField(blank=True, null=True)),
                ('cost_price', models.IntegerField(blank=True, null=True)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='products', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Товар',
                'verbose_name_plural': 'Товары',
                'db_table': 'product',
            },
        ),
        migrations.CreateModel(
            name='Supply',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('supply_status', models.CharField(blank=True, max_length=100, null=True)),
                ('name', models.CharField(max_length=100)),
                ('shipping_point', models.CharField(max_length=100)),
                ('region_name', models.CharField(max_length=100)),
                ('klaster_id', models.IntegerField()),
                ('warehouse', models.CharField(max_length=100)),
                ('type_supply', models.CharField(max_length=100)),
                ('sku_count', models.PositiveIntegerField()),
                ('units_count', models.PositiveIntegerField()),
                ('weight', models.DecimalField(decimal_places=2, max_digits=10)),
                ('volume', models.DecimalField(decimal_places=3, max_digits=10)),
                ('mono_pallets', models.PositiveIntegerField()),
                ('mix_pallets', models.PositiveIntegerField()),
                ('mix_boxes', models.PositiveIntegerField()),
                ('draft', models.CharField(blank=True, max_length=100, null=True)),
                ('draft_id', models.CharField(blank=True, max_length=100, null=True)),
                ('draft_create_operation_id', models.CharField(blank=True, max_length=100, null=True)),
                ('drop_off_warehouse_id', models.BigIntegerField(blank=True, null=True)),
                ('delivery_time_from', models.DateTimeField(blank=True, null=True)),
                ('delivery_time_to', models.DateTimeField(blank=True, null=True)),
                ('create_supply_from_draft_operation_id', models.CharField(blank=True, max_length=100, null=True)),
                ('supply_id', models.BigIntegerField(blank=True, null=True)),
                ('cargo_create_operation_id', models.CharField(blank=True, max_length=100, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
        ),
        migrations.CreateModel(
            name='Warehouse',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('warehouse_id', models.BigIntegerField(blank=True, db_index=True, null=True, verbose_name='ID склада')),
                ('warehouse_name', models.CharField(blank=True, max_length=255, null=True, verbose_name='Название склада')),
                ('klaster_id', models.IntegerField(blank=True, null=True, verbose_name='ID кластера')),
                ('klaster_name', models.CharField(blank=True, max_length=255, null=True, verbose_name='Название кластера')),
            ],
            options={
                'verbose_name': 'Склады',
                'verbose_name_plural': 'Склады',
                'db_table': 'warehouses',
            },
        ),
        migrations.CreateModel(
            name='UserProfile',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ozon_client_id', models.CharField(max_length=50)),
                ('ozon_api_key', models.CharField(max_length=100)),
                ('ozon_base_url', models.CharField(default='https://api-seller.ozon.ru', max_length=100)),
                ('data_initialized', models.BooleanField(default=False)),
                ('data_initialization_error', models.TextField(blank=True, null=True)),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='profile', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Водимые данные',
                'verbose_name_plural': 'Водимые данные',
                'db_table': 'userprofile',
            },
        ),
        migrations.CreateModel(
            name='SupplyProduct',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('klaster_id', models.IntegerField()),
                ('product_offer_id', models.CharField(max_length=100)),
                ('quantity', models.PositiveIntegerField()),
                ('cost_price', models.DecimalField(decimal_places=2, max_digits=15)),
                ('sales_sum', models.DecimalField(decimal_places=2, max_digits=20)),
                ('weight', models.DecimalField(decimal_places=2, max_digits=10)),
                ('volume', models.DecimalField(decimal_places=3, max_digits=10)),
                ('supply', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='products', to='personalproject_main.supply')),
            ],
        ),
        migrations.CreateModel(
            name='SupplyOperation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uid', models.UUIDField(default=uuid.uuid4, editable=False, unique=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='supply_operations', to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.AddField(
            model_name='supply',
            name='operation',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='supplies', to='personalproject_main.supplyoperation'),
        ),
        migrations.AddField(
            model_name='supply',
            name='user',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='supplies', to=settings.AUTH_USER_MODEL),
        ),
        migrations.CreateModel(
            name='Stock',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('warehouse_name', models.CharField(max_length=255)),
                ('valid_stock_count', models.IntegerField()),
                ('sku', models.IntegerField()),
                ('klaster_id', models.IntegerField(blank=True, db_index=True, null=True, verbose_name='ID кластера')),
                ('product', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='stocks', to='personalproject_main.product')),
            ],
            options={
                'verbose_name': 'Складской остаток',
                'verbose_name_plural': 'Складские остатки',
                'db_table': 'stock',
            },
        ),
        migrations.CreateModel(
            name='Sales_analysis',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('supply_name', models.CharField(max_length=30, null=True)),
                ('type_supply', models.CharField(max_length=12, null=True)),
                ('shipping_point', models.CharField(max_length=30, null=True)),
                ('region_destination', models.CharField(max_length=30, null=True)),
                ('warehouse_name', models.CharField(max_length=50, null=True)),
                ('top_up_the_balance', models.DecimalField(decimal_places=2, max_digits=10, null=True)),
                ('put_days', models.DecimalField(decimal_places=2, default=30, max_digits=10, null=True)),
                ('name_driver', models.CharField(max_length=50, null=True)),
                ('driver_mobile_number', models.CharField(max_length=15, null=True)),
                ('car_mark', models.CharField(max_length=30, null=True)),
                ('car_number', models.CharField(blank=True, max_length=20, null=True)),
                ('tc_number', models.CharField(max_length=10, null=True)),
                ('capacity', models.DecimalField(decimal_places=2, max_digits=10, null=True)),
                ('weight', models.DecimalField(decimal_places=2, max_digits=10, null=True)),
                ('klaster_id', models.IntegerField(blank=True, null=True, verbose_name='ID кластера')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='sales_analyses', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'sales_analysis',
            },
        ),
        migrations.CreateModel(
            name='Sale',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('order_id', models.BigIntegerField()),
                ('status', models.CharField(max_length=50)),
                ('created_at', models.DateTimeField()),
                ('order_number', models.CharField(blank=True, max_length=25, null=True)),
                ('posting_number', models.CharField(blank=True, max_length=25, null=True)),
                ('sku', models.BigIntegerField()),
                ('klaster_id', models.IntegerField(blank=True, null=True, verbose_name='ID кластера')),
                ('name', models.CharField(max_length=255)),
                ('quantity', models.IntegerField()),
                ('offer_id', models.CharField(max_length=100)),
                ('price', models.DecimalField(decimal_places=2, max_digits=10)),
                ('klaster_name', models.CharField(blank=True, max_length=255, null=True, verbose_name='Название кластера')),
                ('product', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='sales', to='personalproject_main.product')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='sales', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Продажа',
                'verbose_name_plural': 'Продажи',
                'db_table': 'sales',
            },
        ),
        migrations.CreateModel(
            name='Price',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('price', models.DecimalField(decimal_places=2, max_digits=10)),
                ('marketing_price', models.DecimalField(decimal_places=2, max_digits=10)),
                ('marketing_seller_price', models.DecimalField(decimal_places=2, max_digits=10)),
                ('min_price', models.DecimalField(decimal_places=2, max_digits=10)),
                ('old_price', models.DecimalField(decimal_places=2, max_digits=10)),
                ('retail_price', models.DecimalField(decimal_places=2, max_digits=10)),
                ('vat', models.DecimalField(decimal_places=2, max_digits=5)),
                ('currency_code', models.CharField(default='RUB', max_length=10)),
                ('product', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='prices', to='personalproject_main.product')),
            ],
            options={
                'verbose_name': 'Цена',
                'verbose_name_plural': 'Цены',
                'db_table': 'prices',
            },
        ),
        migrations.CreateModel(
            name='Input_data',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('driver_name', models.CharField(blank=True, max_length=255, null=True)),
                ('driver_mobilephone', models.CharField(blank=True, max_length=20, null=True)),
                ('car_brand', models.CharField(blank=True, max_length=100, null=True)),
                ('car_number', models.CharField(blank=True, max_length=20, null=True)),
                ('car_max_weight', models.FloatField(blank=True, null=True)),
                ('car_max_capacity', models.FloatField(blank=True, null=True)),
                ('name_shipping_point', models.CharField(blank=True, max_length=255, null=True)),
                ('type_shipping_point', models.CharField(blank=True, choices=[('ПВЗ', 'ПВЗ'), ('ППЗ', 'ППЗ'), ('СЦ', 'СЦ')], max_length=50, null=True)),
                ('top_up_remaining_days', models.PositiveIntegerField(blank=True, null=True)),
                ('supply_on', models.PositiveIntegerField(blank=True, null=True)),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='input_data', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Водимые данные',
                'verbose_name_plural': 'Водимые данные',
                'db_table': 'input_data',
            },
        ),
        migrations.CreateModel(
            name='CargoItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('product_offer_id', models.CharField(max_length=100)),
                ('cargo_type', models.CharField(max_length=100)),
                ('total_quantity_in_cargo', models.PositiveIntegerField()),
                ('cargo_count', models.PositiveIntegerField()),
                ('supply', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='cargo_items', to='personalproject_main.supply')),
            ],
        ),
    ]
